webpackJsonp([0],{"/jzp":function(t,a,s){"use strict";var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("h4",{staticClass:"text-success"},[t._v("\n    切换proxy\n    "),s("input",{staticClass:"btn btn-success btn-xs m-l-10",attrs:{type:"button",value:"关闭proxy"},on:{click:function(a){t.selectHost({host:"",port:"",id:"",name:""})}}})]),t._v(" "),s("p",{staticClass:"bg-warning"},[s("strong",[t._v("当前proxy:")]),s("span",{staticClass:"now-host"},[t._v(t._s(t.active.host)+":"+t._s(t.active.port)+"("+t._s(t.active.name)+")")])]),t._v(" "),s("div",{staticClass:"form-inline ip-form"},[s("div",{staticClass:"form-group ip-form"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"测试"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"host"}},[t._v("host")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host,expression:"host"}],staticClass:"form-control",attrs:{type:"text",name:"host",required:"",id:"host",placeholder:"localhost"},domProps:{value:t.host},on:{input:function(a){a.target.composing||(t.host=a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"port"}},[t._v("port")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],staticClass:"form-control",attrs:{value:"80",name:"port",required:"",type:"number",id:"port",placeholder:"80"},domProps:{value:t.port},on:{input:function(a){a.target.composing||(t.port=a.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"buttom"},on:{click:t.changeHost}},[t._v("新建并切换")]),t._v(" "),s("ul",{staticClass:"host-list"},t._l(t.hosts,function(a){return s("li",{staticClass:"cLi"},[s("span",{staticClass:"checked",class:{active:a.host==t.active.host&&a.port==t.active.port&&a.name==t.active.name}},[t._v("✔")]),t._v(" "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){t.selectHost(a)}}},[t._v(t._s(a.host)+":"+t._s(a.port)+"("+t._s(a.name)+")")]),t._v(" "),s("button",{staticClass:"delete-proxy",attrs:{type:"button"},on:{click:function(s){t.deleteHost(a)}}},[s("span",[t._v("×")])])])}))])])},e=[],i={render:o,staticRenderFns:e};a.a=i},0:function(t,a){},"4yjs":function(t,a,s){"use strict";function o(t){s("RNs/")}var e=s("CR9T"),i=s("Ejq3"),n=s("VU/8"),c=o,r=n(e.a,i.a,!1,c,null,null);a.a=r.exports},"75SK":function(t,a,s){"use strict";a.a={data:function(){return{host:"",port:"",name:"",hosts:[],active:{}}},created:function(){var t=this;this.$http.get("/proxy-api/get/host").then(function(a){t.active=a.data,t.selectHost(a.data)}),this.$http.get("/proxy-api/get/proxies").then(function(a){t.hosts=a.data})},methods:{changeHost:function(){var t=this.host,a=this.port,s=this.name,o={host:t,port:a,name:s};this.$http.get("/proxy-api/change/host",{params:o}).then(function(){this.host="",this.name="",this.port="",this.hosts.push(o),this.active=o})},selectHost:function(t){this.$http.get("/proxy-api/change/host",{params:t}).then(function(){this.active=t})},deleteHost:function(t){this.$http.get("/proxy-api/delete/host",{params:t}).then(function(t){this.hosts=t.data})}}}},"9Yzk":function(t,a,s){"use strict";function o(t){s("wmw4")}var e=s("75SK"),i=s("/jzp"),n=s("VU/8"),c=o,r=n(e.a,i.a,!1,c,"data-v-bdcc3c20",null);a.a=r.exports},CEsb:function(t,a){},CR9T:function(t,a,s){"use strict";var o=s("exBe");a.a={components:{JsonEditor:o.a},data:function(){return{mocks:[],url:"",data:{},name:"",id:"",active:"",duration:""}},created:function(){var t=this;this.$http.get("/proxy-api/get/mock").then(function(a){t.mocks=a.data}),this.$http.get("/proxy-api/get/activemock").then(function(t){this.active=t.data.mock,this.setActiveMock(t.data.mock)})},methods:{changeItemMock:function(t){this.postMock(t)},onError:function(){console.log(1111)},setEditor:function(){this.$refs.jsonEditor.editor.set(this.data)},initMockData:function(){this.url="",this.data={},this.name="",this.id="",this.setEditor()},postMock:function(t){this.$http.post("/proxy-api/set/mock",t).then(function(t){this.mocks=t.data,this.initMockData(),$("#mock-modal").modal("hide")})},saveMock:function(){var t=this.url,a=this.data,s=this.name,o=this.id,e=this.duration,i={url:t,data:a,name:s,id:o,duration:e};this.postMock(i)},deleteMock:function(t){if(!confirm("是否删除这个mock"))return!1;this.$http.get("/proxy-api/delete/mock",{params:t}).then(function(t){this.mocks=t.data})},setMock:function(t){this.url=t.url,this.name=t.name,this.data=t.data,this.id=t.id,this.duration=t.duration,console.log(this.$refs.jsonEditor),this.setEditor()},setActiveMock:function(t){this.$http.get("/proxy-api/set/activemock",{params:{mock:t}}).then(function(t){this.active=t.data.mock})},onChange:function(t){console.log(t),this.data=t}}}},Ejq3:function(t,a,s){"use strict";var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"mock-box"},[s("h4",{staticClass:"text-success"},[t._v("\n    mock\n    "),s("input",{staticClass:"btn btn-success btn-xs m-l-10",attrs:{type:"button",value:"关闭mock"},on:{click:function(a){t.setActiveMock("")}}})]),t._v(" "),s("div",{staticClass:"mock cLi"},[s("span",{class:{active:"local"==t.active}},[t._v("✔")]),t._v(" "),s("a",{staticClass:"mockChange changeHost",attrs:{href:"javascript:void(0)"},on:{click:function(a){t.setActiveMock("local")}}},[t._v("本地全部mock")])]),t._v(" "),s("div",{staticClass:"mock cLi"},[s("span",{class:{active:"part"==t.active}},[t._v("✔")]),t._v(" "),s("a",{staticClass:"mockChange changeHost",attrs:{href:"javascript:void(0)"},on:{click:function(a){t.setActiveMock("part")}}},[t._v("本地部分mock")])]),t._v(" "),s("ul",{staticClass:"public-mock"}),t._v(" "),s("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),s("table",{staticClass:"table table-hover"},t._l(t.mocks,function(a){return s("tr",[s("td",{staticClass:"part-checkbox"},["part"==t.active?s("input",{directives:[{name:"model",rawName:"v-model",value:a.mock,expression:"item.mock"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.mock)?t._i(a.mock,null)>-1:a.mock},on:{change:[function(s){var o=a.mock,e=s.target,i=!!e.checked;if(Array.isArray(o)){var n=t._i(o,null);e.checked?n<0&&(a.mock=o.concat([null])):n>-1&&(a.mock=o.slice(0,n).concat(o.slice(n+1)))}else t.$set(a,"mock",i)},function(s){t.changeItemMock(a)}]}}):t._e()]),t._v(" "),s("td",[t._v(t._s(a.name)+"("+t._s(a.url)+")")]),t._v(" "),s("td",[s("span",{staticClass:"glyphicon mock-edit glyphicon-edit",attrs:{"data-toggle":"modal","data-target":".bs-example-modal-lg"},on:{click:function(s){t.setMock(a)}}}),t._v(" "),s("span",{staticClass:"glyphicon glyphicon-trash delete-mock",on:{click:function(s){t.deleteMock(a)}}})])])}))])]),t._v(" "),s("div",{staticClass:"modal  fade bs-example-modal-lg",attrs:{id:"mock-modal",tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{staticClass:"form-horizontal edit-box"},[s("div",{staticClass:"form-group edit-input"},[s("label",{staticClass:"control-label col-sm-2",attrs:{for:"mock-name"}},[t._v("name:")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"mock-name"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group edit-input"},[s("label",{staticClass:"control-label col-sm-2",attrs:{for:"mock-url"}},[t._v("url:")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"text",id:"mock-url"},domProps:{value:t.url},on:{input:function(a){a.target.composing||(t.url=a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group edit-input"},[s("label",{staticClass:"control-label col-sm-2",attrs:{for:"mock-url"}},[t._v("duration:")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"form-control",attrs:{type:"text",id:"mock-url"},domProps:{value:t.duration},on:{input:function(a){a.target.composing||(t.duration=a.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-addon"},[t._v("ms")])])])]),t._v(" "),s("div",{staticClass:"form-group edit-editor"},[s("label",{staticClass:"control-label col-sm-2"},[t._v("data:")]),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("json-editor",{ref:"jsonEditor",attrs:{onError:t.onError,onChange:t.onChange,json:t.data}})],1)])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.initMockData}},[t._v("关闭")]),t._v(" "),s("button",{staticClass:"btn btn-primary save-mock",attrs:{type:"button"},on:{click:t.saveMock}},[t._v("保存")])])])])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"panel-heading"},[s("button",{staticClass:"btn btn-primary add-mock",attrs:{type:"button","data-toggle":"modal","data-target":".bs-example-modal-lg"}},[t._v("添加api")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),s("h4",{staticClass:"modal-title",attrs:{id:"myLargeModalLabel"}},[t._v("设置mock")])])}],i={render:o,staticRenderFns:e};a.a=i},HCAE:function(t,a){},JpGR:function(t,a,s){"use strict";var o=s("32SN"),e=s.n(o),i=s("CEsb"),n=(s.n(i),s("M4fF")),c=s.n(n);a.a={name:"json-editor",data:function(){return{editor:null}},props:{json:{required:!0},options:{type:Object,default:function(){return{mode:"code",indentation:2,ace:ace}}},onChange:{type:Function},onError:{type:Function}},methods:{_onChange:function(t){this.onChange&&this.editor&&this.onChange(this.editor.get())}},mounted:function(){var t=this.$refs.jsoneditor,a=c.a.extend({onChange:this._onChange,onError:function(){}},this.options);this.editor=new e.a(t,a),this.editor.set(this.json)},beforeDestroy:function(){this.editor&&(this.editor.destroy(),this.editor=null)}}},L20O:function(t,a,s){"use strict";var o=function(){var t=this,a=t.$createElement;return(t._self._c||a)("div",{ref:"jsoneditor",staticClass:"jsoneditor-box"})},e=[],i={render:o,staticRenderFns:e};a.a=i},M93x:function(t,a,s){"use strict";function o(t){s("d2Eu")}var e=s("xJD8"),i=s("iGKa"),n=s("VU/8"),c=o,r=n(e.a,i.a,!1,c,null,null);a.a=r.exports},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=s("7+uW"),e=s("M93x"),i=s("ORbq");o.a.config.productionTip=!1,o.a.use(i.a),new o.a({el:"#app",template:"<App/>",components:{App:e.a}})},"RNs/":function(t,a){},d2Eu:function(t,a){},exBe:function(t,a,s){"use strict";function o(t){s("HCAE")}var e=s("JpGR"),i=s("L20O"),n=s("VU/8"),c=o,r=n(e.a,i.a,!1,c,null,null);a.a=r.exports},iGKa:function(t,a,s){"use strict";var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("props"),t._v(" "),s("mock")],1)},e=[],i={render:o,staticRenderFns:e};a.a=i},wmw4:function(t,a){},xJD8:function(t,a,s){"use strict";var o=s("9Yzk"),e=s("4yjs");a.a={components:{Props:o.a,Mock:e.a}}}},["NHnr"]);
//# sourceMappingURL=app.818b4cb6b3fdcf4f4eae.js.map